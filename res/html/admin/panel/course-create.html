<style>
	.slidePanel{
		overflow: overlay;
	}
	
</style>
<header class="slidePanel-header">
  <div class="overlay-top overlay-panel overlay-background bg-indigo-600">
    <div class="slidePanel-actions btn-group btn-group-flat" aria-label="actions" role="group">      
      <button type="button" class="btn btn-pure slidePanel-close icon md-close" aria-hidden="true"></button>
    </div>
    <h4 class="stage-name"><h5 class="taskboard-stage-title text-uppercase">Criar novo curso</h5></h4>
  </div>  
</header>
<div class="slidePanel-inner m-t-40">

	<form id="form-course-criar">

		<input type="hidden" name="inremoved">

		<div class="row">

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">Curso</label>
				<input type="text" name="descourse" class="form-control">
			</div>

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">Título</label>
				<input type="text" name="destitle" class="form-control">
			</div>

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">URL</label>
				<input type="text" name="desurl" class="form-control">
			</div>

		</div>

		<div class="row">

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">Carga Horária</label>
				<input type="number" name="vlworkload" class="form-control">
			</div>

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">Número de Aulas</label>
				<input type="number" name="nrlessons" class="form-control">
			</div>

			<div class="form-group form-material col-md-4" data-plugin="formMaterial">
				<label class="form-control-label">Número de Exercícios</label>
				<input type="number" name="nrexercises" class="form-control">
			</div>

		</div>

		<div class="form-group form-material" data-plugin="formMaterial">
			<label class="form-control-label">Descrição</label>
			<div id="summernote"></div>
		</div>

		<div class="form-group form-material" data-plugin="formMaterial">
			<button type="submit" class="btn btn-primary waves-effect">Salvar</button>
		</div>

	</form>

</div>

<script>
	
var form = $("#form-course-criar");

$("#summernote").summernote({
	height:200
});

form.form({
	url:PATH+"/courses",
	params:{
		idcourse:0
	},
	beforeParams: function() {

        return {
            desdescription: $('#summernote').next('.note-editor').find('.note-editable').html()
        };

    },
	resetForm:false,
	success:function(){
		System.success("Curso criado com sucesso");
		$(".slidePanel-close").trigger("click");
		$("#form-filtros [type=submit]").trigger("click");
	},
	failure:function(r){
		System.showError(r);
	}
});

</script>